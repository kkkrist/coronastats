# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## <small>1.21.2 (2021-04-17)</small>

* fix(crawler/lg): omit incomplete rows ([6a37d65](https://github.com/kkkrist/coronastats/commit/6a37d65))





## <small>1.21.1 (2021-04-15)</small>

* fix(crawler/l): fix selectors, `quarantined` regex ([54cd26a](https://github.com/kkkrist/coronastats/commit/54cd26a))





## 1.21.0 (2021-04-05)

* feat: add "row" area code ([d187b34](https://github.com/kkkrist/coronastats/commit/d187b34))





## <small>1.20.16 (2021-04-05)</small>

* fix(crawler/sl): adapt to new format ([ba14c87](https://github.com/kkkrist/coronastats/commit/ba14c87))





## <small>1.20.15 (2021-04-03)</small>

* fix(crawler/sl): fix ocr ([2058775](https://github.com/kkkrist/coronastats/commit/2058775))





## <small>1.20.14 (2021-03-26)</small>

* fix(crawler/sl): extend date regex ([a12f190](https://github.com/kkkrist/coronastats/commit/a12f190))





## <small>1.20.13 (2021-03-17)</small>

* fix(crawler/sl): Use OCR to retrieve timestamp (I wish I was joking) ([4a87fce](https://github.com/kkkrist/coronastats/commit/4a87fce))





## <small>1.20.12 (2021-03-12)</small>

* fix(crawler/sl): extract date from img.alt ([b4b7e5b](https://github.com/kkkrist/coronastats/commit/b4b7e5b))





## <small>1.20.8 (2021-03-08)</small>

* fix(crawler/fl): re-write crawler from scratch for new status page ([029c3c6](https://github.com/kkkrist/coronastats/commit/029c3c6))
* docs: add README ([d628096](https://github.com/kkkrist/coronastats/commit/d628096))





## <small>1.20.6 (2021-03-06)</small>

* fix(crawler/lg): always pull all the data ([6774ca4](https://github.com/kkkrist/coronastats/commit/6774ca4))





## <small>1.20.5 (2021-03-06)</small>

* fix(crawler/lg): always fetch fresh nonce ([9f8b3e5](https://github.com/kkkrist/coronastats/commit/9f8b3e5))





## <small>1.20.4 (2021-03-05)</small>

* fix(crawler/fl): Add more regexes… ([cb9c54c](https://github.com/kkkrist/coronastats/commit/cb9c54c))





## <small>1.20.3 (2021-03-05)</small>

* fix(crawler/lg): adapt to new api ([f56fe61](https://github.com/kkkrist/coronastats/commit/f56fe61))





## <small>1.19.27 (2021-03-05)</small>

* fix(crawler/sl): adapt to new page ([fbefea8](https://github.com/kkkrist/coronastats/commit/fbefea8))





## <small>1.19.26 (2021-03-03)</small>

* fix(crawler/fl): Don't calculale `active` if `recovered` not present ([d83ca39](https://github.com/kkkrist/coronastats/commit/d83ca39))





## <small>1.19.25 (2021-03-03)</small>

* fix(crawler/fl): Oh asterisk, I don't like you ([78f58ae](https://github.com/kkkrist/coronastats/commit/78f58ae))





## <small>1.19.24 (2021-03-02)</small>

* fix(crawler/ks): Make some parts of date string optional ([c373072](https://github.com/kkkrist/coronastats/commit/c373072))





## <small>1.19.23 (2021-03-02)</small>

* fix(crawler/fl): add fix for the latest markup shenanigans ([fc33afb](https://github.com/kkkrist/coronastats/commit/fc33afb))





## <small>1.19.22 (2021-03-01)</small>

* fix(crawler/ks): adapt regex ([42385ff](https://github.com/kkkrist/coronastats/commit/42385ff))





## <small>1.19.21 (2021-02-24)</small>

* fix(crawler/sl): fix date regex ([8e0560f](https://github.com/kkkrist/coronastats/commit/8e0560f))





## <small>1.19.20 (2021-02-23)</small>

* fix(crawler/sl): fix date regex ([13635c8](https://github.com/kkkrist/coronastats/commit/13635c8))





## <small>1.19.19 (2021-02-16)</small>

* fix(crawler): fix "rz" area code crawler ([004d6ff](https://github.com/kkkrist/coronastats/commit/004d6ff))





## <small>1.19.18 (2021-02-10)</small>

* fix(crawler/fl): let's use thousands separators! why not… ([00b3761](https://github.com/kkkrist/coronastats/commit/00b3761))





## <small>1.19.17 (2021-02-10)</small>

* fix(crawler/fl): different day, different layout :( ([9f9f8ec](https://github.com/kkkrist/coronastats/commit/9f9f8ec))





## <small>1.19.16 (2021-02-09)</small>

* docs: add change to trigger webhook ([2f7cb51](https://github.com/kkkrist/coronastats/commit/2f7cb51))





## <small>1.19.15 (2021-02-09)</small>

* docs: add change to trigger webhook ([37f1070](https://github.com/kkkrist/coronastats/commit/37f1070))





## <small>1.19.14 (2021-02-09)</small>

* docs: add change to trigger webhook ([b95ec4c](https://github.com/kkkrist/coronastats/commit/b95ec4c))





## <small>1.19.13 (2021-02-09)</small>

* fix(crawler/fl): colons are hard (not) ([2ac1a74](https://github.com/kkkrist/coronastats/commit/2ac1a74))





## <small>1.19.12 (2021-02-09)</small>

* fix(crawler/fl): escape from whitespace hell ([56449d1](https://github.com/kkkrist/coronastats/commit/56449d1))





## <small>1.19.11 (2021-02-04)</small>

* fix(crawler/sl): tweak regexes ([ab8d338](https://github.com/kkkrist/coronastats/commit/ab8d338))





## <small>1.19.10 (2021-02-02)</small>

* fix(crawler/sl): add new regexes ([07968a1](https://github.com/kkkrist/coronastats/commit/07968a1))





## <small>1.19.9 (2021-01-30)</small>

* fix(crawler/fl): just using regular white space characters would be too easy, right? ([e59e05f](https://github.com/kkkrist/coronastats/commit/e59e05f))





## <small>1.19.8 (2021-01-29)</small>

* fix(crawler/fl): adapt list format introduced on 21/01/29 ([3286a2d](https://github.com/kkkrist/coronastats/commit/3286a2d))





## <small>1.19.7 (2021-01-29)</small>

* fix(crawler/sl): adapt regexes ([9732737](https://github.com/kkkrist/coronastats/commit/9732737))





## <small>1.19.6 (2021-01-24)</small>

* fix(crawler/fl): consider clerks being stuck in the past sometimes ([7799785](https://github.com/kkkrist/coronastats/commit/7799785))





## <small>1.19.5 (2021-01-20)</small>

* fix(crawler): fix "l" area code crawler ([2533525](https://github.com/kkkrist/coronastats/commit/2533525))
* fix(crawler): fix "lg" area code crawler ([229c3b5](https://github.com/kkkrist/coronastats/commit/229c3b5))
* fix(crawler): fix "od" area code crawler ([9dae452](https://github.com/kkkrist/coronastats/commit/9dae452))





## <small>1.19.3 (2021-01-14)</small>

* fix(crawler): fix "lg" area code crawler ([7e768f1](https://github.com/kkkrist/coronastats/commit/7e768f1))





## <small>1.19.2 (2021-01-12)</small>

* fix(crawler): use new source url in "od" area code crawler ([e2dc7cc](https://github.com/kkkrist/coronastats/commit/e2dc7cc))





## <small>1.19.1 (2021-01-11)</small>

* fix(crawler): fix "sl" area code crawler ([57ca88f](https://github.com/kkkrist/coronastats/commit/57ca88f))





## <small>1.18.10 (2021-01-05)</small>

* fix(crawler): fix "fl" area code crawler ([d3df90e](https://github.com/kkkrist/coronastats/commit/d3df90e))





## <small>1.18.9 (2020-12-31)</small>

* fix(crawler): fix "sl" area code crawler ([10195d9](https://github.com/kkkrist/coronastats/commit/10195d9))





## <small>1.18.8 (2020-12-30)</small>

* fix(crawler): fix "l" area code crawler, re-enable ([c6511c4](https://github.com/kkkrist/coronastats/commit/c6511c4))
* fix(crawler): fix "od" area code crawler ([07867d8](https://github.com/kkkrist/coronastats/commit/07867d8))





## <small>1.18.7 (2020-12-29)</small>

* fix(crawler): fix "sl" area code crawler ([907a811](https://github.com/kkkrist/coronastats/commit/907a811))
* fix(crawler): temporarily disable "l" area code crawler ([256dfeb](https://github.com/kkkrist/coronastats/commit/256dfeb))





## <small>1.18.6 (2020-12-23)</small>

* fix(crawler): fix "l" area code crawler ([f4b379f](https://github.com/kkkrist/coronastats/commit/f4b379f))





## <small>1.18.5 (2020-12-14)</small>

* fix(crawler): fix "fl" area code crawler ([ece1daf](https://github.com/kkkrist/coronastats/commit/ece1daf))





## <small>1.18.4 (2020-12-11)</small>

* fix(crawler): fix "l" area code crawler ([c1f67c0](https://github.com/kkkrist/coronastats/commit/c1f67c0))
* chore: fix CHANGELOG ([d36cc68](https://github.com/kkkrist/coronastats/commit/d36cc68))





## <small>1.18.3 (2020-12-09)</small>

* fix(crawler/l): compare with last entry, discard if numbers match up ([c4940e8](https://github.com/kkkrist/coronastats/commit/c4940e8))





## <small>1.18.2 (2020-12-08)</small>

* fix(crawler): fix "od" area code crawler ([82affa7](https://github.com/kkkrist/coronastats/commit/82affa7))





## 1.18.0 (2020-12-07)

* fix(crawler): add user-agent to http headers… ([3fbc6a3](https://github.com/kkkrist/coronastats/commit/3fbc6a3))





## <small>1.17.1 (2020-12-04)</small>

* fix(crawler): Fix "l" area code crawler ([801b108](https://github.com/kkkrist/coronastats/commit/801b108))





## <small>1.16.1 (2020-12-01)</small>

* fix(crawler): fix "ks" area code crawler ([148d9ae](https://github.com/kkkrist/coronastats/commit/148d9ae))





## 1.16.0 (2020-11-30)

* feat(crawler): add "ks" area code crawler ([66adc1c](https://github.com/kkkrist/coronastats/commit/66adc1c))
* feat(crawler): add "l" area code crawler ([8eb8d42](https://github.com/kkkrist/coronastats/commit/8eb8d42))





## <small>1.15.1 (2020-11-20)</small>

* fix(crawler): fix "lg" area code crawler ([1d2fc6c](https://github.com/kkkrist/coronastats/commit/1d2fc6c))





## <small>1.14.3 (2020-11-16)</small>

* fix(crawler): fix "od" area code crawler ([1b05a99](https://github.com/kkkrist/coronastats/commit/1b05a99))





## <small>1.14.2 (2020-11-10)</small>

* fix(crawler): fix "lg" area code crawler ([7a772b5](https://github.com/kkkrist/coronastats/commit/7a772b5))





## 1.14.0 (2020-11-06)

* fix(crawler): rewrite "lg" area code crawler ([4adc882](https://github.com/kkkrist/coronastats/commit/4adc882))





## <small>1.13.4 (2020-11-04)</small>

* fix(crawler): fix "od" area code crawler ([97b8d7c](https://github.com/kkkrist/coronastats/commit/97b8d7c))





## <small>1.13.3 (2020-11-04)</small>

* fix(crawler): modify http reqest headers ([a71e11f](https://github.com/kkkrist/coronastats/commit/a71e11f))





## <small>1.13.2 (2020-11-03)</small>

* fix(crawler): fix "sl" area code crawler ([eb109bd](https://github.com/kkkrist/coronastats/commit/eb109bd))





## <small>1.12.7 (2020-11-01)</small>

* fix(crawler): consider delimiters in "sl" area code crawler ([4ccf018](https://github.com/kkkrist/coronastats/commit/4ccf018))
* fix(crawler): fix typo in "lg" areacode crawler ([2decb69](https://github.com/kkkrist/coronastats/commit/2decb69))





## <small>1.12.6 (2020-11-01)</small>

* fix(crawler): fix "lg" areacode crawler ([dea3f43](https://github.com/kkkrist/coronastats/commit/dea3f43))





## <small>1.12.5 (2020-10-30)</small>

* fix(crawler): fix "fl" area code crawler ([3f3843a](https://github.com/kkkrist/coronastats/commit/3f3843a))





## <small>1.12.4 (2020-10-30)</small>

* fix(crawler): fix "lg" areacode crawler ([24621c1](https://github.com/kkkrist/coronastats/commit/24621c1))





## <small>1.12.3 (2020-10-29)</small>

* fix(crawler): fix `upsert()` helper ([acc2ec4](https://github.com/kkkrist/coronastats/commit/acc2ec4))





## <small>1.12.2 (2020-10-29)</small>

* fix(crawler): fix `getMatch()` helper in "fl" crawler ([d65973d](https://github.com/kkkrist/coronastats/commit/d65973d))
* fix(crawler): fix `upsert()` helper ([824a412](https://github.com/kkkrist/coronastats/commit/824a412))
* fix(crawler): more fixes for "fl" crawler ([d30fbd2](https://github.com/kkkrist/coronastats/commit/d30fbd2))
* feat(crawler): re-write "fl" crawler once more (are those people fat-fingering the data in on a type ([898580e](https://github.com/kkkrist/coronastats/commit/898580e))
* chore(crawler): lint ([8934fc6](https://github.com/kkkrist/coronastats/commit/8934fc6))





## <small>1.12.1 (2020-10-29)</small>

* fix(crawler): fix recovered regex in "fl" crawler ([dc77f33](https://github.com/kkkrist/coronastats/commit/dc77f33))
* fix(crawler): make "fl" crawler more prone to typos ([8acd1ec](https://github.com/kkkrist/coronastats/commit/8acd1ec))
* fix(crawler): make "fl" crawler throw when trying to parse unexpected content ([be00903](https://github.com/kkkrist/coronastats/commit/be00903))





## 1.12.0 (2020-10-29)

* refactor(crawler): remove lodash dep in "od" crawler ([e79c6a2](https://github.com/kkkrist/coronastats/commit/e79c6a2))
* feat(crawler): add json-patch history to records ([505f45b](https://github.com/kkkrist/coronastats/commit/505f45b))
* feat(crawler): re-write "fl" crawler ([7c3c67c](https://github.com/kkkrist/coronastats/commit/7c3c67c))





## <small>1.11.1 (2020-10-27)</small>

* fix(crawler): make lg crawler more flexible ([18352df](https://github.com/kkkrist/coronastats/commit/18352df))





## <small>1.10.4 (2020-10-23)</small>

* fix(crawler):use error handler to handle errors ([918b2a8](https://github.com/kkkrist/coronastats/commit/918b2a8))
* fix(crawler): add error handler w/ email cap ([3ef32cb](https://github.com/kkkrist/coronastats/commit/3ef32cb))
* fix(crawler): mail whole stack, don't run mailer if ERROR_EMAIL is undefined in error handler ([6a4f065](https://github.com/kkkrist/coronastats/commit/6a4f065))
* fix(crawler): support arrays of errors in error handler ([8cb63ff](https://github.com/kkkrist/coronastats/commit/8cb63ff))





## <small>1.10.3 (2020-10-22)</small>

* fix(crawler): fix "sl" crawler ([c10cdad](https://github.com/kkkrist/coronastats/commit/c10cdad))





## <small>1.10.2 (2020-10-22)</small>

* chore(crawler): clean-up "od" crawler ([f89bd68](https://github.com/kkkrist/coronastats/commit/f89bd68))





# [1.10.0](https://github.com/kkkrist/coronastats/compare/v1.9.1...v1.10.0) (2020-10-22)


### Bug Fixes

* **crawler:** improve regexes in "od" crawler ([a4cdc15](https://github.com/kkkrist/coronastats/commit/a4cdc15dd61b44c3b30ee2ac0f4aada7ad3b29a9))


### Features

* **crawler:** add crawler for "od" areacode ([d03c41e](https://github.com/kkkrist/coronastats/commit/d03c41e4259fed2faed285feffeef3af81f8747c))





# [1.9.0](https://github.com/kkkrist/coronastats/compare/v1.8.3...v1.9.0) (2020-10-21)


### Features

* **crawler:** add crawler for "lg" areacode ([f312ff4](https://github.com/kkkrist/coronastats/commit/f312ff45e88e9e9e02427a26107ef41306a4cb05))





## [1.6.6](https://github.com/kkkrist/coronastats/compare/v1.6.5...v1.6.6) (2020-10-16)


### Bug Fixes

* **crawler:** fix "sl" crawler, provide more detailed error messages ([8e06cce](https://github.com/kkkrist/coronastats/commit/8e06ccef516c12844cfd01f8f9f66dd87e395323))





## [1.6.5](https://github.com/kkkrist/coronastats/compare/v1.6.4...v1.6.5) (2020-10-15)


### Bug Fixes

* **crawler:** don't even run bulk insert if input does not contain any updated or new records at all ([6957f47](https://github.com/kkkrist/coronastats/commit/6957f474fd79855ae6506780a4d4fb353024836b))





## [1.6.4](https://github.com/kkkrist/coronastats/compare/v1.6.3...v1.6.4) (2020-10-15)


### Bug Fixes

* **crawler:** fix "sl" areacode crawler ([f465491](https://github.com/kkkrist/coronastats/commit/f465491e34d00677c412e1d3efdc5194d8e7c536))





# [1.6.0](https://github.com/kkkrist/coronastats/compare/v1.5.0...v1.6.0) (2020-10-11)


### Features

* **crawler:** add crawler for "plö" areacode ([5dc93a1](https://github.com/kkkrist/coronastats/commit/5dc93a181a10969ea7ed0583b7ab822b9b1e5ae5))
* **crawler:** also grab 7-day incidence value in "plö" crawler ([753f2c9](https://github.com/kkkrist/coronastats/commit/753f2c97fc7a233168bf3ce2cb7c9fed26727504))
* **crawler:** only upsert records with actually have changed ([aeffa96](https://github.com/kkkrist/coronastats/commit/aeffa967ca6a0b1d410457034b744a40d3e098b9))
* **crawler:** wrap crawler calls into `Promise.allSettled` instead of `Promise.all` to let crawlers fail gracefully ([feeb2ab](https://github.com/kkkrist/coronastats/commit/feeb2ab352b4a7b897dc79130f816bf9b1c54048))





# [1.5.0](https://github.com/kkkrist/coronastats-fl/compare/v1.4.0...v1.5.0) (2020-10-07)


### Features

* use couchdb as backend/api ([#2](https://github.com/kkkrist/coronastats-fl/issues/2)) ([d2b4459](https://github.com/kkkrist/coronastats-fl/commit/d2b4459d309bc26e74d3f1339e904b54f9a87552))





# [1.4.0](https://github.com/kkkrist/coronastats-fl/compare/v1.3.2...v1.4.0) (2020-10-01)


### Bug Fixes

* **crawler:** account for same-day updates notation in "fl" crawler ([5f8207c](https://github.com/kkkrist/coronastats-fl/commit/5f8207c479176138f9eebbb9b42fea846c9b7dc2))
* **crawler:** handle crawlers independently ([665b06a](https://github.com/kkkrist/coronastats-fl/commit/665b06a1d71e60e2501573df96d725fdfe4996cf))
* **crawler:** match case-insensitive in "rz" crawler ([238bfbf](https://github.com/kkkrist/coronastats-fl/commit/238bfbf9b560810e2fb45ac93b18787a468c0dc9))


### Features

* **crawler:** add crawler for "sl" collection ([3953fd1](https://github.com/kkkrist/coronastats-fl/commit/3953fd1953d388f3ed811423f93933b0c0ae7a9f))





# [1.3.0](https://github.com/kkkrist/coronastats-fl/compare/v1.2.0...v1.3.0) (2020-09-30)


### Features

* **crawler:** turn into multi-crawler framework, add crawler for "rz" ([fe8720f](https://github.com/kkkrist/coronastats-fl/commit/fe8720f6859995349d2c3be4b7ff3fe084d0860b))





# [1.2.0](https://github.com/kkkrist/coronastats-fl/compare/v1.1.4...v1.2.0) (2020-09-29)


### Features

* add dedicated api service ([#1](https://github.com/kkkrist/coronastats-fl/issues/1)) ([2242b9a](https://github.com/kkkrist/coronastats-fl/commit/2242b9afa154941026a59423c38a3fb9a3c5ac62))





## [1.1.4](https://github.com/kkkrist/coronastats-fl/compare/v1.1.3...v1.1.4) (2020-09-28)


### Bug Fixes

* **crawler:** consider (optional) asterisks in metrics notation ([d687d6a](https://github.com/kkkrist/coronastats-fl/commit/d687d6accc5b083f863ac093c82d4f4ee7dab510))





## [1.1.3](https://github.com/kkkrist/coronastats-fl/compare/v1.1.2...v1.1.3) (2020-09-26)


### Bug Fixes

* **crawler:** traverse backwards through DOM hierarchy until date h2 is found ([65e5d74](https://github.com/kkkrist/coronastats-fl/commit/65e5d746243157d6ca522295ca0ef91aea135ef3))
* **crawler:** update .gitignore ([ec742d5](https://github.com/kkkrist/coronastats-fl/commit/ec742d53f66f72ae52f26d9c19da1c003dc3f2fb))





## 1.1.1 (2020-09-14)

**Note:** Version bump only for package coronastats-fl-crawler
